<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Create Account</title>
</head>

<style>
  input:focus{
    outline: none;
  }
</style>

<body>

  <form action="success.html">
      <div>
        <h2>Choose your password.</h2>
        <h5 style="color: gray;">Make sure it's a good one.</h5>
      </div>

      <input type="password" id="password" name="password" placeholder="Password" required>
      <div>
        <span id="strength" style="color: gray;">Must be Strong strength or Better.</span>&nbsp&nbsp<span id="status" style="color: red; display: none;"></span><br>
        <span id="length" style="color: gray;">Password is at least 8 characters long.</span><br>
        <span id="format" style="color: gray;">Password must contain at least one uppercase. </span>
      </div>
      <br>
        
   
      <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirm-Password" required>
      

  <button type="submit" id="submit-button" disabled>Submit</button>
    </form>
    <div>
        <span id="passwordmatch" style="color: red; display: none;" >Password don't Match.</span>
      </div>

<script>

  const strengthcheck = document.getElementById("strength");
  const lengthcheck = document.getElementById("length");
  const formatcheck = document.getElementById("format");
  const passwordMatchError = document.getElementById("passwordmatch");

  const passwordInput = document.getElementById("password");
  const confirmInput = document.getElementById("confirm-password");
  const submitButton = document.getElementById("submit-button");
  const statusCheck = document.getElementById("status");


        passwordInput.addEventListener('input', validatePassword);
        confirmInput.addEventListener('input', validatePassword);

function validatePassword() {

          const upperchar = passwordInput.value;

          const weakPass = /^(?=.*[a-z]).{6,}$/;
          const mediumPass = /^(?=.*[a-z]).{8,}$/;
          const strongPass = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d@$!%*?&]{10,}$/;
          const okayPass = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d{2,})(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{12,}$/;
          const betterPass = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d{3,})(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{16,}$/;
          

           if(weakPass.test(passwordInput.value)){
              submitButton.disabled = true;
              statusCheck.style.color = "red";
              statusCheck.textContent = "Weak";
              statusCheck.style.display = "inline-block";
              
              if(mediumPass.test(passwordInput.value)){
                 submitButton.disabled = true;
                 statusCheck.style.color = "yellow";
                 statusCheck.textContent = "Medium";
                 statusCheck.style.display = "inline-block";
                 lengthcheck.style.color = "green";

                 if(strongPass.test(passwordInput.value)){
                    submitButton.disabled = true;
                    statusCheck.style.color = "Blue";
                    statusCheck.textContent = "Strong";
                    statusCheck.style.display = "inline-block";
                    strengthcheck.style.color = "green";

                    if(passwordInput.value === confirmInput.value){
                      submitButton.disabled = false;
                      confirmInput.style.borderColor = "green";
                      passwordMatchError.style.display = "none";
                        }else if(confirmInput.value === ""){      
                            confirmInput.style.borderColor = "none";
                        }else if(confirmInput.value != passwordInput.value){
                            confirmInput.style.borderColor = "red"
                            passwordMatchError.style.display = "block";
                        }else{
                            confirmInput.style.borderColor = "none";
                        }                                      
                    
                    if(okayPass.test(passwordInput.value)){
                      submitButton.disabled = true;
                      statusCheck.style.color = "skyblue";
                      statusCheck.textContent = "Okay";
                      statusCheck.style.display = "inline-block";
                      if(passwordInput.value === confirmInput.value){
                            submitButton.disabled = false;
                            passwordMatchError.style.display = "none";
                            confirmInput.style.borderColor = "green";
                        }else if(confirmInput.value === ""){      
                            confirmInput.style.borderColor = "none";
                        }else if(confirmInput.value != passwordInput.value){
                            confirmInput.style.borderColor = "red"
                            passwordmatch.style.display = "block";
                        }else{
                            confirmInput.style.borderColor = "none";
                        }                                           
                    
                      if(betterPass.test(passwordInput.value)){
                         submitButton.disabled = true;
                         statusCheck.style.color = "lightgreen";
                         statusCheck.textContent = "Better";
                         statusCheck.style.display = "inline-block";
                         if(passwordInput.value === confirmInput.value){
                            submitButton.disabled = false;
                            passwordMatchError.style.display = "none";
                          }else if(confirmInput.value === ""){      
                            confirmInput.style.borderColor = "none";
                          }else if(confirmInput.value != passwordInput.value){
                            confirmInput.style.borderColor = "red"
                            passwordMatchError.style.display = "block";
                          }else{
                            confirmInput.style.borderColor = "none";
                            passwordmatch.textContent = "none";
                          }                                           
                        }

                    }
                 
                  }

                }

             }else if(/[A-Z]/.test(upperchar)){
               formatcheck.style.color = "green";

             }else if(passwordInput.value === ""){
               submitButton.disabled = true;
               formatcheck.style.color = "gray";
               lengthcheck.style.color = "gray";
               strengthcheck.style.color = "gray";
             }else{
               submitButton.disabled = true;
               lengthcheck.style.color = "gray";
               strengthcheck.style.color = "gray";
               formatcheck.style.color = "gray";
             }
}

       
</script>
</body>
</html>
